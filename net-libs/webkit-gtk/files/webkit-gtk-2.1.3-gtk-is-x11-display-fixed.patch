Only in webkitgtk-2.1.3/Source/WebCore: ChangeLog.orig
Only in webkitgtk-2.1.3/Source/WebCore: ChangeLog.rej
diff -urp webkitgtk-2.1.3.orig/Source/WebCore/platform/gtk/GtkVersioning.h webkitgtk-2.1.3/Source/WebCore/platform/gtk/GtkVersioning.h
--- webkitgtk-2.1.3.orig/Source/WebCore/platform/gtk/GtkVersioning.h	2013-06-26 01:42:24.000000000 -0700
+++ webkitgtk-2.1.3/Source/WebCore/platform/gtk/GtkVersioning.h	2017-06-02 18:49:40.534022356 -0700
@@ -40,6 +40,21 @@ void gdk_screen_get_monitor_workarea(Gdk
 
 GdkDevice* getDefaultGDKPointerDevice(GdkWindow* window);
 
+// gtk_widget_get_preferred_size() appeared only in GTK 3.0.
+#if !GTK_CHECK_VERSION (2, 91, 0)  // gtk_widget_get_preferred_size appeared about then.
+#define gtk_widget_get_preferred_size(widget, minimumSize, naturalSize) \
+        (gtk_widget_size_request((widget), ((minimumSize))))
+#endif
+
+// Define GDK_IS_X11_DISPLAY dummy for GTK+ 2.0 compatibility.
+#ifndef GDK_IS_X11_DISPLAY
+  #ifdef GDK_WINDOWING_X11
+    #define GDK_IS_X11_DISPLAY(display) 1
+  #else
+    #define GDK_IS_X11_DISPLAY(display) 0
+  #endif
+#endif
+
 G_END_DECLS
 
 #endif // GtkVersioning_h
diff -urp webkitgtk-2.1.3.orig/Source/WebCore/plugins/gtk/gtk2xtbin.c webkitgtk-2.1.3/Source/WebCore/plugins/gtk/gtk2xtbin.c
--- webkitgtk-2.1.3.orig/Source/WebCore/plugins/gtk/gtk2xtbin.c	2013-06-26 01:42:24.000000000 -0700
+++ webkitgtk-2.1.3/Source/WebCore/plugins/gtk/gtk2xtbin.c	2017-06-02 18:49:44.838188676 -0700
@@ -42,6 +42,7 @@
  * inside a GTK application.  
  */
 
+#include "config.h"
 #include "GtkVersioning.h"
 #include "xembed.h"
 #include "gtk2xtbin.h"
