diff -ur firefox-45.2.0esr.orig/js/src/configure.in firefox-45.2.0esr/js/src/configure.in
--- firefox-45.2.0esr.orig/js/src/configure.in	2016-08-01 03:40:21.936769821 -0700
+++ firefox-45.2.0esr/js/src/configure.in	2016-08-01 10:52:05.182623396 -0700
@@ -1402,6 +1402,12 @@
 if test "$result" = "yes"; then
     AC_DEFINE(HAVE_64BIT_BUILD)
     HAVE_64BIT_BUILD=1
+else
+    AC_EGREP_CPP(x32_test,
+    [#if defined(__x86_64__) && defined (__ILP32__)
+        x32_test
+        #endif
+    ], HAVE_64BIT_BUILD=1, HAVE_64BIT_BUILD=)
 fi
 AC_SUBST(HAVE_64BIT_BUILD)
 AC_LANG_RESTORE
