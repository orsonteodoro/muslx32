diff -urp -x '*.orig' -x '*.rej' chromium-54.0.2824.0.orig/third_party/libvpx/BUILD.gn chromium-54.0.2824.0/third_party/libvpx/BUILD.gn
--- chromium-54.0.2824.0.orig/third_party/libvpx/BUILD.gn	2016-08-09 22:45:32.000000000 -0700
+++ chromium-54.0.2824.0/third_party/libvpx/BUILD.gn	2016-08-17 17:12:19.127962268 -0700
@@ -11,7 +11,7 @@ import("//third_party/yasm/yasm_assemble
 # Sets the architecture name for building libvpx.
 if (current_cpu == "x86") {
   cpu_arch_full = "ia32"
-} else if (current_cpu == "x64") {
+} else if (current_cpu == "x64" || current_cpu == "x32") {
   if (is_msan) {
     cpu_arch_full = "generic"
   } else {
@@ -90,11 +90,11 @@ config("libvpx_external_config") {
   include_dirs = [ "//third_party/libvpx/source/libvpx" ]
 }
 
-if (current_cpu == "x86" || current_cpu == "x64") {
+if (current_cpu == "x86" || current_cpu == "x64" || current_cpu == "x32") {
   yasm_assemble("libvpx_yasm") {
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_assembly
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_assembly
     }
 
@@ -113,7 +113,7 @@ if (current_cpu == "x86" || current_cpu
   }
 }
 
-if (current_cpu == "x86" || current_cpu == "x64") {
+if (current_cpu == "x86" || current_cpu == "x64" || current_cpu == "x32") {
   # The following targets are deliberately source_set rather than
   # static_library. The :libvpx target exposes these intrinsic implementations
   # via global function pointer symbols, which hides the object dependency at
@@ -130,7 +130,7 @@ if (current_cpu == "x86" || current_cpu
     }
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_mmx
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_mmx
     }
   }
@@ -145,7 +145,7 @@ if (current_cpu == "x86" || current_cpu
     }
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_sse2
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_sse2
     }
   }
@@ -160,7 +160,7 @@ if (current_cpu == "x86" || current_cpu
     }
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_ssse3
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_ssse3
     }
   }
@@ -175,7 +175,7 @@ if (current_cpu == "x86" || current_cpu
     }
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_sse4_1
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_sse4_1
     }
   }
@@ -192,7 +192,7 @@ if (current_cpu == "x86" || current_cpu
     }
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_avx
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_avx
     }
   }
@@ -209,7 +209,7 @@ if (current_cpu == "x86" || current_cpu
     }
     if (current_cpu == "x86") {
       sources = libvpx_srcs_x86_avx2
-    } else if (current_cpu == "x64") {
+    } else if (current_cpu == "x64" || current_cpu == "x32") {
       sources = libvpx_srcs_x86_64_avx2
     }
   }
@@ -274,7 +274,7 @@ static_library("libvpx") {
     sources = libvpx_srcs_generic
   } else if (current_cpu == "x86") {
     sources = libvpx_srcs_x86
-  } else if (current_cpu == "x64") {
+  } else if (current_cpu == "x64" || current_cpu == "x32") {
     if (is_msan) {
       sources = libvpx_srcs_generic
     } else {
@@ -299,7 +299,7 @@ static_library("libvpx") {
   configs += [ "//build/config/compiler:no_chromium_code" ]
   configs += [ ":libvpx_warnings" ]
   deps = []
-  if (current_cpu == "x86" || (current_cpu == "x64" && !is_msan)) {
+  if (current_cpu == "x86" || current_cpu == "x32"  || (current_cpu == "x64" && !is_msan)) {
     deps += [
       ":libvpx_intrinsics_avx",
       ":libvpx_intrinsics_avx2",
diff -urp -x '*.orig' -x '*.rej' chromium-54.0.2824.0.orig/third_party/libvpx/libvpx.gyp chromium-54.0.2824.0/third_party/libvpx/libvpx.gyp
--- chromium-54.0.2824.0.orig/third_party/libvpx/libvpx.gyp	2016-08-09 22:45:32.000000000 -0700
+++ chromium-54.0.2824.0/third_party/libvpx/libvpx.gyp	2016-08-17 17:11:37.067962941 -0700
@@ -89,7 +89,7 @@
     ['target_arch=="ia32"', {
       'includes': ['libvpx_srcs_x86_intrinsics.gypi', ],
     }],
-    ['target_arch=="x64" and msan==0', {
+    ['(target_arch=="x64" or target_arch=="x32") and msan==0', {
       'includes': ['libvpx_srcs_x86_64_intrinsics.gypi', ],
     }],
     [ '(target_arch=="arm" or target_arch=="armv7") and arm_neon==0 and OS=="android"', {
@@ -166,7 +166,7 @@
             ['target_arch=="arm64"', {
               'includes': [ 'libvpx_srcs_arm64.gypi', ],
             }],
-            ['target_arch=="x64"', {
+            ['target_arch=="x64" or target_arch=="x32"', {
               'conditions': [
                 ['msan==1', {
                   'includes': [ 'libvpx_srcs_generic.gypi', ],
